"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/pois/import/veraset/route";
exports.ids = ["app/api/pois/import/veraset/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute&page=%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute.ts&appDir=%2FUsers%2Fjuliangarritz%2Fdev%2Fpy%2Fveraset%2Fveraset-api%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjuliangarritz%2Fdev%2Fpy%2Fveraset%2Fveraset-api&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute&page=%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute.ts&appDir=%2FUsers%2Fjuliangarritz%2Fdev%2Fpy%2Fveraset%2Fveraset-api%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjuliangarritz%2Fdev%2Fpy%2Fveraset%2Fveraset-api&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_juliangarritz_dev_py_veraset_veraset_api_app_api_pois_import_veraset_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/pois/import/veraset/route.ts */ \"(rsc)/./app/api/pois/import/veraset/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/pois/import/veraset/route\",\n        pathname: \"/api/pois/import/veraset\",\n        filename: \"route\",\n        bundlePath: \"app/api/pois/import/veraset/route\"\n    },\n    resolvedPagePath: \"/Users/juliangarritz/dev/py/veraset/veraset-api/app/api/pois/import/veraset/route.ts\",\n    nextConfigOutput,\n    userland: _Users_juliangarritz_dev_py_veraset_veraset_api_app_api_pois_import_veraset_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/pois/import/veraset/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwb2lzJTJGaW1wb3J0JTJGdmVyYXNldCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcG9pcyUyRmltcG9ydCUyRnZlcmFzZXQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwb2lzJTJGaW1wb3J0JTJGdmVyYXNldCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmp1bGlhbmdhcnJpdHolMkZkZXYlMkZweSUyRnZlcmFzZXQlMkZ2ZXJhc2V0LWFwaSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZqdWxpYW5nYXJyaXR6JTJGZGV2JTJGcHklMkZ2ZXJhc2V0JTJGdmVyYXNldC1hcGkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ29DO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ21jLXZlcmFzZXQtYXBpLz85YWE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9qdWxpYW5nYXJyaXR6L2Rldi9weS92ZXJhc2V0L3ZlcmFzZXQtYXBpL2FwcC9hcGkvcG9pcy9pbXBvcnQvdmVyYXNldC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcG9pcy9pbXBvcnQvdmVyYXNldC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BvaXMvaW1wb3J0L3ZlcmFzZXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3BvaXMvaW1wb3J0L3ZlcmFzZXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvanVsaWFuZ2Fycml0ei9kZXYvcHkvdmVyYXNldC92ZXJhc2V0LWFwaS9hcHAvYXBpL3BvaXMvaW1wb3J0L3ZlcmFzZXQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3BvaXMvaW1wb3J0L3ZlcmFzZXQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute&page=%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute.ts&appDir=%2FUsers%2Fjuliangarritz%2Fdev%2Fpy%2Fveraset%2Fveraset-api%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjuliangarritz%2Fdev%2Fpy%2Fveraset%2Fveraset-api&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/pois/import/veraset/route.ts":
/*!**********************************************!*\
  !*** ./app/api/pois/import/veraset/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nconst VERASET_BASE_URL = \"https://platform.prd.veraset.tech\";\nconst dynamic = \"force-dynamic\";\nconst revalidate = 0;\n/**\n * POST /api/pois/import/veraset\n * Search for POIs in Veraset API and return results\n */ async function POST(request) {\n    try {\n        const apiKey = process.env.VERASET_API_KEY;\n        if (!apiKey) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"VERASET_API_KEY not configured\"\n            }, {\n                status: 500\n            });\n        }\n        const body = await request.json();\n        const { brand, category, subcategory, country, state, city, zipcode, limit = 1000, offset = 0 } = body;\n        // Build query parameters\n        const params = new URLSearchParams();\n        if (brand) params.append(\"brand\", brand);\n        if (category) params.append(\"category\", category);\n        if (subcategory) params.append(\"subcategory\", subcategory);\n        if (state) params.append(\"state\", state);\n        if (city) params.append(\"city\", city);\n        if (zipcode) params.append(\"zipcode\", zipcode);\n        if (limit) params.append(\"limit\", String(limit));\n        if (offset) params.append(\"offset\", String(offset));\n        // Use GET endpoint to get POIs (as per Veraset API documentation)\n        // Build query parameters for GET request\n        const queryParams = new URLSearchParams();\n        if (brand) queryParams.append(\"brand\", brand);\n        if (category) queryParams.append(\"category\", category);\n        if (subcategory) queryParams.append(\"subcategory\", subcategory);\n        if (country) queryParams.append(\"country\", country);\n        if (state) queryParams.append(\"state\", state);\n        if (city) queryParams.append(\"city\", city);\n        if (zipcode) queryParams.append(\"zipcode\", zipcode);\n        if (limit) queryParams.append(\"limit\", String(limit));\n        if (offset) queryParams.append(\"offset\", String(offset));\n        const queryString = queryParams.toString();\n        const url = queryString ? `${VERASET_BASE_URL}/v1/poi/pois?${queryString}` : `${VERASET_BASE_URL}/v1/poi/pois`;\n        const response = await fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"X-API-Key\": apiKey,\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!response.ok) {\n            let errorData;\n            try {\n                errorData = await response.json();\n            } catch  {\n                errorData = {\n                    error_message: await response.text()\n                };\n            }\n            console.error(\"Veraset API error:\", errorData);\n            // Provide more helpful error messages\n            if (response.status === 401) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Veraset API authentication failed\",\n                    details: errorData.error_message || \"Invalid API key. Please check your VERASET_API_KEY environment variable.\",\n                    hint: \"Make sure VERASET_API_KEY is set in your .env file\"\n                }, {\n                    status: 401\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Veraset API failed\",\n                details: errorData.error_message || JSON.stringify(errorData)\n            }, {\n                status: response.status\n            });\n        }\n        const data = await response.json();\n        // Transform Veraset POI format to our format\n        const pois = (data.pois || data.data || []).map((poi)=>({\n                id: poi.poi_id || poi.id,\n                place_key: poi.place_key || poi.placeKey,\n                name: poi.name || poi.poi_name || poi.brand || \"Unnamed POI\",\n                latitude: poi.latitude || poi.lat,\n                longitude: poi.longitude || poi.lng || poi.lon,\n                category: poi.category,\n                subcategory: poi.subcategory,\n                brand: poi.brand,\n                address: poi.address,\n                city: poi.city,\n                state: poi.state,\n                zipcode: poi.zipcode || poi.zip,\n                country: poi.country,\n                // Include all original data for reference\n                raw: poi\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            pois,\n            total: data.total || pois.length,\n            limit,\n            offset,\n            hasMore: pois.length === limit\n        });\n    } catch (error) {\n        console.error(\"POST /api/pois/import/veraset error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to search POIs\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * GET /api/pois/import/veraset?type=[type]\n * Get available POIs, categories, subcategories, brands, etc. from Veraset\n * \n * Types:\n * - 'pois': Get all available POIs (direct access to /v1/poi/pois)\n * - 'top': Get top categories\n * - 'sub': Get subcategories\n * - 'brands': Get brands\n * - 'countries': Get countries\n * - 'states': Get states\n * - 'cities': Get cities\n * - 'zipcodes': Get zipcodes\n */ async function GET(request) {\n    try {\n        const apiKey = process.env.VERASET_API_KEY;\n        if (!apiKey) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"VERASET_API_KEY not configured\"\n            }, {\n                status: 500\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const type = searchParams.get(\"type\") || \"top\";\n        const category = searchParams.get(\"category\");\n        const subcategory = searchParams.get(\"subcategory\");\n        const brand = searchParams.get(\"brand\");\n        const country = searchParams.get(\"country\");\n        const state = searchParams.get(\"state\");\n        const city = searchParams.get(\"city\");\n        const zipcode = searchParams.get(\"zipcode\");\n        let endpoint;\n        const params = new URLSearchParams();\n        switch(type){\n            case \"pois\":\n                // Direct access to POIs endpoint - GET all available POIs\n                endpoint = \"/v1/poi/pois\";\n                // Allow optional query parameters for filtering\n                if (category) params.append(\"category\", category);\n                if (subcategory) params.append(\"subcategory\", subcategory);\n                if (brand) params.append(\"brand\", brand);\n                if (country) params.append(\"country\", country);\n                if (state) params.append(\"state\", state);\n                if (city) params.append(\"city\", city);\n                if (zipcode) params.append(\"zipcode\", zipcode);\n                break;\n            case \"top\":\n                endpoint = \"/v1/poi/top-categories\";\n                break;\n            case \"sub\":\n                endpoint = \"/v1/poi/sub-categories\";\n                if (category) params.append(\"category\", category);\n                break;\n            case \"brands\":\n                endpoint = \"/v1/poi/brands\";\n                if (subcategory) params.append(\"subcategory\", subcategory);\n                if (country) params.append(\"country\", country);\n                if (state) params.append(\"state\", state);\n                if (city) params.append(\"city\", city);\n                break;\n            case \"countries\":\n                endpoint = \"/v1/poi/countries\";\n                break;\n            case \"states\":\n                endpoint = \"/v1/poi/states\";\n                if (country) params.append(\"country\", country);\n                break;\n            case \"cities\":\n                endpoint = \"/v1/poi/cities\";\n                if (country) params.append(\"country\", country);\n                if (state) params.append(\"state\", state);\n                break;\n            case \"zipcodes\":\n                endpoint = \"/v1/poi/zipcodes\";\n                if (country) params.append(\"country\", country);\n                if (state) params.append(\"state\", state);\n                if (city) params.append(\"city\", city);\n                break;\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Invalid type. Use: pois, top, sub, brands, countries, states, cities, zipcodes\"\n                }, {\n                    status: 400\n                });\n        }\n        const url = params.toString() ? `${VERASET_BASE_URL}${endpoint}?${params}` : `${VERASET_BASE_URL}${endpoint}`;\n        const response = await fetch(url, {\n            headers: {\n                \"X-API-Key\": apiKey,\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!response.ok) {\n            let errorData;\n            try {\n                errorData = await response.json();\n            } catch  {\n                errorData = {\n                    error_message: await response.text()\n                };\n            }\n            console.error(\"Veraset API error:\", errorData);\n            // Provide more helpful error messages\n            if (response.status === 401) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Veraset API authentication failed\",\n                    details: errorData.error_message || \"Invalid API key. Please check your VERASET_API_KEY environment variable.\",\n                    hint: \"Make sure VERASET_API_KEY is set in your .env file\"\n                }, {\n                    status: 401\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Veraset API failed\",\n                details: errorData.error_message || JSON.stringify(errorData)\n            }, {\n                status: response.status\n            });\n        }\n        const data = await response.json();\n        // If type is 'pois', transform the response to match our POI format\n        if (type === \"pois\") {\n            const pois = (data.pois || data.data || []).map((poi)=>({\n                    id: poi.poi_id || poi.id,\n                    place_key: poi.place_key || poi.placeKey,\n                    name: poi.name || poi.poi_name || poi.brand || \"Unnamed POI\",\n                    latitude: poi.latitude || poi.lat,\n                    longitude: poi.longitude || poi.lng || poi.lon,\n                    category: poi.category,\n                    subcategory: poi.subcategory,\n                    brand: poi.brand,\n                    address: poi.address,\n                    city: poi.city,\n                    state: poi.state,\n                    zipcode: poi.zipcode || poi.zip,\n                    country: poi.country,\n                    raw: poi\n                }));\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                pois,\n                total: data.total || pois.length,\n                hasMore: data.hasMore || false\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data);\n    } catch (error) {\n        console.error(\"GET /api/pois/import/veraset error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch categories\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3BvaXMvaW1wb3J0L3ZlcmFzZXQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFFeEQsTUFBTUMsbUJBQW1CO0FBRWxCLE1BQU1DLFVBQVUsZ0JBQWdCO0FBQ2hDLE1BQU1DLGFBQWEsRUFBRTtBQUU1Qjs7O0NBR0MsR0FDTSxlQUFlQyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxlQUFlO1FBRTFDLElBQUksQ0FBQ0gsUUFBUTtZQUNYLE9BQU9OLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQWlDLEdBQzFDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNQyxPQUFPLE1BQU1SLFFBQVFLLElBQUk7UUFDL0IsTUFBTSxFQUNKSSxLQUFLLEVBQ0xDLFFBQVEsRUFDUkMsV0FBVyxFQUNYQyxPQUFPLEVBQ1BDLEtBQUssRUFDTEMsSUFBSSxFQUNKQyxPQUFPLEVBQ1BDLFFBQVEsSUFBSSxFQUNaQyxTQUFTLENBQUMsRUFDWCxHQUFHVDtRQUVKLHlCQUF5QjtRQUN6QixNQUFNVSxTQUFTLElBQUlDO1FBQ25CLElBQUlWLE9BQU9TLE9BQU9FLE1BQU0sQ0FBQyxTQUFTWDtRQUNsQyxJQUFJQyxVQUFVUSxPQUFPRSxNQUFNLENBQUMsWUFBWVY7UUFDeEMsSUFBSUMsYUFBYU8sT0FBT0UsTUFBTSxDQUFDLGVBQWVUO1FBQzlDLElBQUlFLE9BQU9LLE9BQU9FLE1BQU0sQ0FBQyxTQUFTUDtRQUNsQyxJQUFJQyxNQUFNSSxPQUFPRSxNQUFNLENBQUMsUUFBUU47UUFDaEMsSUFBSUMsU0FBU0csT0FBT0UsTUFBTSxDQUFDLFdBQVdMO1FBQ3RDLElBQUlDLE9BQU9FLE9BQU9FLE1BQU0sQ0FBQyxTQUFTQyxPQUFPTDtRQUN6QyxJQUFJQyxRQUFRQyxPQUFPRSxNQUFNLENBQUMsVUFBVUMsT0FBT0o7UUFFM0Msa0VBQWtFO1FBQ2xFLHlD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QUNyRCxPQUFPWCxxREFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1lBQThCNkIsU0FBUzdCLE1BQU1zRCxPQUFPO1FBQUMsR0FDOUQ7WUFBRXJELFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ21jLXZlcmFzZXQtYXBpLy4vYXBwL2FwaS9wb2lzL2ltcG9ydC92ZXJhc2V0L3JvdXRlLnRzP2ZlYmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcblxuY29uc3QgVkVSQVNFVF9CQVNFX1VSTCA9ICdodHRwczovL3BsYXRmb3JtLnByZC52ZXJhc2V0LnRlY2gnO1xuXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJztcbmV4cG9ydCBjb25zdCByZXZhbGlkYXRlID0gMDtcblxuLyoqXG4gKiBQT1NUIC9hcGkvcG9pcy9pbXBvcnQvdmVyYXNldFxuICogU2VhcmNoIGZvciBQT0lzIGluIFZlcmFzZXQgQVBJIGFuZCByZXR1cm4gcmVzdWx0c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LlZFUkFTRVRfQVBJX0tFWTtcbiAgICBcbiAgICBpZiAoIWFwaUtleSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVkVSQVNFVF9BUElfS0VZIG5vdCBjb25maWd1cmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgXG4gICAgICBicmFuZCwgXG4gICAgICBjYXRlZ29yeSwgXG4gICAgICBzdWJjYXRlZ29yeSwgXG4gICAgICBjb3VudHJ5LFxuICAgICAgc3RhdGUsIFxuICAgICAgY2l0eSwgXG4gICAgICB6aXBjb2RlLFxuICAgICAgbGltaXQgPSAxMDAwLFxuICAgICAgb2Zmc2V0ID0gMFxuICAgIH0gPSBib2R5O1xuXG4gICAgLy8gQnVpbGQgcXVlcnkgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBpZiAoYnJhbmQpIHBhcmFtcy5hcHBlbmQoJ2JyYW5kJywgYnJhbmQpO1xuICAgIGlmIChjYXRlZ29yeSkgcGFyYW1zLmFwcGVuZCgnY2F0ZWdvcnknLCBjYXRlZ29yeSk7XG4gICAgaWYgKHN1YmNhdGVnb3J5KSBwYXJhbXMuYXBwZW5kKCdzdWJjYXRlZ29yeScsIHN1YmNhdGVnb3J5KTtcbiAgICBpZiAoc3RhdGUpIHBhcmFtcy5hcHBlbmQoJ3N0YXRlJywgc3RhdGUpO1xuICAgIGlmIChjaXR5KSBwYXJhbXMuYXBwZW5kKCdjaXR5JywgY2l0eSk7XG4gICAgaWYgKHppcGNvZGUpIHBhcmFtcy5hcHBlbmQoJ3ppcGNvZGUnLCB6aXBjb2RlKTtcbiAgICBpZiAobGltaXQpIHBhcmFtcy5hcHBlbmQoJ2xpbWl0JywgU3RyaW5nKGxpbWl0KSk7XG4gICAgaWYgKG9mZnNldCkgcGFyYW1zLmFwcGVuZCgnb2Zmc2V0JywgU3RyaW5nKG9mZnNldCkpO1xuXG4gICAgLy8gVXNlIEdFVCBlbmRwb2ludCB0byBnZXQgUE9JcyAoYXMgcGVyIFZlcmFzZXQgQVBJIGRvY3VtZW50YXRpb24pXG4gICAgLy8gQnVpbGQgcXVlcnkgcGFyYW1ldGVycyBmb3IgR0VUIHJlcXVlc3RcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBpZiAoYnJhbmQpIHF1ZXJ5UGFyYW1zLmFwcGVuZCgnYnJhbmQnLCBicmFuZCk7XG4gICAgaWYgKGNhdGVnb3J5KSBxdWVyeVBhcmFtcy5hcHBlbmQoJ2NhdGVnb3J5JywgY2F0ZWdvcnkpO1xuICAgIGlmIChzdWJjYXRlZ29yeSkgcXVlcnlQYXJhbXMuYXBwZW5kKCdzdWJjYXRlZ29yeScsIHN1YmNhdGVnb3J5KTtcbiAgICBpZiAoY291bnRyeSkgcXVlcnlQYXJhbXMuYXBwZW5kKCdjb3VudHJ5JywgY291bnRyeSk7XG4gICAgaWYgKHN0YXRlKSBxdWVyeVBhcmFtcy5hcHBlbmQoJ3N0YXRlJywgc3RhdGUpO1xuICAgIGlmIChjaXR5KSBxdWVyeVBhcmFtcy5hcHBlbmQoJ2NpdHknLCBjaXR5KTtcbiAgICBpZiAoemlwY29kZSkgcXVlcnlQYXJhbXMuYXBwZW5kKCd6aXBjb2RlJywgemlwY29kZSk7XG4gICAgaWYgKGxpbWl0KSBxdWVyeVBhcmFtcy5hcHBlbmQoJ2xpbWl0JywgU3RyaW5nKGxpbWl0KSk7XG4gICAgaWYgKG9mZnNldCkgcXVlcnlQYXJhbXMuYXBwZW5kKCdvZmZzZXQnLCBTdHJpbmcob2Zmc2V0KSk7XG4gICAgXG4gICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeVBhcmFtcy50b1N0cmluZygpO1xuICAgIGNvbnN0IHVybCA9IHF1ZXJ5U3RyaW5nIFxuICAgICAgPyBgJHtWRVJBU0VUX0JBU0VfVVJMfS92MS9wb2kvcG9pcz8ke3F1ZXJ5U3RyaW5nfWBcbiAgICAgIDogYCR7VkVSQVNFVF9CQVNFX1VSTH0vdjEvcG9pL3BvaXNgO1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS2V5JzogYXBpS2V5LFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGxldCBlcnJvckRhdGE6IGFueTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBlcnJvckRhdGEgPSB7IGVycm9yX21lc3NhZ2U6IGF3YWl0IHJlc3BvbnNlLnRleHQoKSB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmVycm9yKCdWZXJhc2V0IEFQSSBlcnJvcjonLCBlcnJvckRhdGEpO1xuICAgICAgXG4gICAgICAvLyBQcm92aWRlIG1vcmUgaGVscGZ1bCBlcnJvciBtZXNzYWdlc1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IFxuICAgICAgICAgICAgZXJyb3I6ICdWZXJhc2V0IEFQSSBhdXRoZW50aWNhdGlvbiBmYWlsZWQnLCBcbiAgICAgICAgICAgIGRldGFpbHM6IGVycm9yRGF0YS5lcnJvcl9tZXNzYWdlIHx8ICdJbnZhbGlkIEFQSSBrZXkuIFBsZWFzZSBjaGVjayB5b3VyIFZFUkFTRVRfQVBJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZS4nLFxuICAgICAgICAgICAgaGludDogJ01ha2Ugc3VyZSBWRVJBU0VUX0FQSV9LRVkgaXMgc2V0IGluIHlvdXIgLmVudiBmaWxlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1ZlcmFzZXQgQVBJIGZhaWxlZCcsIGRldGFpbHM6IGVycm9yRGF0YS5lcnJvcl9tZXNzYWdlIHx8IEpTT04uc3RyaW5naWZ5KGVycm9yRGF0YSkgfSxcbiAgICAgICAgeyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgLy8gVHJhbnNmb3JtIFZlcmFzZXQgUE9JIGZvcm1hdCB0byBvdXIgZm9ybWF0XG4gICAgY29uc3QgcG9pcyA9IChkYXRhLnBvaXMgfHwgZGF0YS5kYXRhIHx8IFtdKS5tYXAoKHBvaTogYW55KSA9PiAoe1xuICAgICAgaWQ6IHBvaS5wb2lfaWQgfHwgcG9pLmlkLFxuICAgICAgcGxhY2Vfa2V5OiBwb2kucGxhY2Vfa2V5IHx8IHBvaS5wbGFjZUtleSwgLy8gQ3JpdGljYWw6IHBsYWNlX2tleSBpcyB1c2VkIGZvciBtb3ZlbWVudCBBUElcbiAgICAgIG5hbWU6IHBvaS5uYW1lIHx8IHBvaS5wb2lfbmFtZSB8fCBwb2kuYnJhbmQgfHwgJ1VubmFtZWQgUE9JJyxcbiAgICAgIGxhdGl0dWRlOiBwb2kubGF0aXR1ZGUgfHwgcG9pLmxhdCxcbiAgICAgIGxvbmdpdHVkZTogcG9pLmxvbmdpdHVkZSB8fCBwb2kubG5nIHx8IHBvaS5sb24sXG4gICAgICBjYXRlZ29yeTogcG9pLmNhdGVnb3J5LFxuICAgICAgc3ViY2F0ZWdvcnk6IHBvaS5zdWJjYXRlZ29yeSxcbiAgICAgIGJyYW5kOiBwb2kuYnJhbmQsXG4gICAgICBhZGRyZXNzOiBwb2kuYWRkcmVzcyxcbiAgICAgIGNpdHk6IHBvaS5jaXR5LFxuICAgICAgc3RhdGU6IHBvaS5zdGF0ZSxcbiAgICAgIHppcGNvZGU6IHBvaS56aXBjb2RlIHx8IHBvaS56aXAsXG4gICAgICBjb3VudHJ5OiBwb2kuY291bnRyeSxcbiAgICAgIC8vIEluY2x1ZGUgYWxsIG9yaWdpbmFsIGRhdGEgZm9yIHJlZmVyZW5jZVxuICAgICAgcmF3OiBwb2ksXG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHBvaXMsXG4gICAgICB0b3RhbDogZGF0YS50b3RhbCB8fCBwb2lzLmxlbmd0aCxcbiAgICAgIGxpbWl0LFxuICAgICAgb2Zmc2V0LFxuICAgICAgaGFzTW9yZTogcG9pcy5sZW5ndGggPT09IGxpbWl0LFxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQT1NUIC9hcGkvcG9pcy9pbXBvcnQvdmVyYXNldCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBzZWFyY2ggUE9JcycsIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBHRVQgL2FwaS9wb2lzL2ltcG9ydC92ZXJhc2V0P3R5cGU9W3R5cGVdXG4gKiBHZXQgYXZhaWxhYmxlIFBPSXMsIGNhdGVnb3JpZXMsIHN1YmNhdGVnb3JpZXMsIGJyYW5kcywgZXRjLiBmcm9tIFZlcmFzZXRcbiAqIFxuICogVHlwZXM6XG4gKiAtICdwb2lzJzogR2V0IGFsbCBhdmFpbGFibGUgUE9JcyAoZGlyZWN0IGFjY2VzcyB0byAvdjEvcG9pL3BvaXMpXG4gKiAtICd0b3AnOiBHZXQgdG9wIGNhdGVnb3JpZXNcbiAqIC0gJ3N1Yic6IEdldCBzdWJjYXRlZ29yaWVzXG4gKiAtICdicmFuZHMnOiBHZXQgYnJhbmRzXG4gKiAtICdjb3VudHJpZXMnOiBHZXQgY291bnRyaWVzXG4gKiAtICdzdGF0ZXMnOiBHZXQgc3RhdGVzXG4gKiAtICdjaXRpZXMnOiBHZXQgY2l0aWVzXG4gKiAtICd6aXBjb2Rlcyc6IEdldCB6aXBjb2Rlc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuVkVSQVNFVF9BUElfS0VZO1xuICAgIFxuICAgIGlmICghYXBpS2V5KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdWRVJBU0VUX0FQSV9LRVkgbm90IGNvbmZpZ3VyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3QgdHlwZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3R5cGUnKSB8fCAndG9wJztcbiAgICBjb25zdCBjYXRlZ29yeSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2NhdGVnb3J5Jyk7XG4gICAgY29uc3Qgc3ViY2F0ZWdvcnkgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdWJjYXRlZ29yeScpO1xuICAgIGNvbnN0IGJyYW5kID0gc2VhcmNoUGFyYW1zLmdldCgnYnJhbmQnKTtcbiAgICBjb25zdCBjb3VudHJ5ID0gc2VhcmNoUGFyYW1zLmdldCgnY291bnRyeScpO1xuICAgIGNvbnN0IHN0YXRlID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhdGUnKTtcbiAgICBjb25zdCBjaXR5ID0gc2VhcmNoUGFyYW1zLmdldCgnY2l0eScpO1xuICAgIGNvbnN0IHppcGNvZGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCd6aXBjb2RlJyk7XG5cbiAgICBsZXQgZW5kcG9pbnQ6IHN0cmluZztcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3BvaXMnOlxuICAgICAgICAvLyBEaXJlY3QgYWNjZXNzIHRvIFBPSXMgZW5kcG9pbnQgLSBHRVQgYWxsIGF2YWlsYWJsZSBQT0lzXG4gICAgICAgIGVuZHBvaW50ID0gJy92MS9wb2kvcG9pcyc7XG4gICAgICAgIC8vIEFsbG93IG9wdGlvbmFsIHF1ZXJ5IHBhcmFtZXRlcnMgZm9yIGZpbHRlcmluZ1xuICAgICAgICBpZiAoY2F0ZWdvcnkpIHBhcmFtcy5hcHBlbmQoJ2NhdGVnb3J5JywgY2F0ZWdvcnkpO1xuICAgICAgICBpZiAoc3ViY2F0ZWdvcnkpIHBhcmFtcy5hcHBlbmQoJ3N1YmNhdGVnb3J5Jywgc3ViY2F0ZWdvcnkpO1xuICAgICAgICBpZiAoYnJhbmQpIHBhcmFtcy5hcHBlbmQoJ2JyYW5kJywgYnJhbmQpO1xuICAgICAgICBpZiAoY291bnRyeSkgcGFyYW1zLmFwcGVuZCgnY291bnRyeScsIGNvdW50cnkpO1xuICAgICAgICBpZiAoc3RhdGUpIHBhcmFtcy5hcHBlbmQoJ3N0YXRlJywgc3RhdGUpO1xuICAgICAgICBpZiAoY2l0eSkgcGFyYW1zLmFwcGVuZCgnY2l0eScsIGNpdHkpO1xuICAgICAgICBpZiAoemlwY29kZSkgcGFyYW1zLmFwcGVuZCgnemlwY29kZScsIHppcGNvZGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIFxuICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgZW5kcG9pbnQgPSAnL3YxL3BvaS90b3AtY2F0ZWdvcmllcyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgICBjYXNlICdzdWInOlxuICAgICAgICBlbmRwb2ludCA9ICcvdjEvcG9pL3N1Yi1jYXRlZ29yaWVzJztcbiAgICAgICAgaWYgKGNhdGVnb3J5KSBwYXJhbXMuYXBwZW5kKCdjYXRlZ29yeScsIGNhdGVnb3J5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAgIGNhc2UgJ2JyYW5kcyc6XG4gICAgICAgIGVuZHBvaW50ID0gJy92MS9wb2kvYnJhbmRzJztcbiAgICAgICAgaWYgKHN1YmNhdGVnb3J5KSBwYXJhbXMuYXBwZW5kKCdzdWJjYXRlZ29yeScsIHN1YmNhdGVnb3J5KTtcbiAgICAgICAgaWYgKGNvdW50cnkpIHBhcmFtcy5hcHBlbmQoJ2NvdW50cnknLCBjb3VudHJ5KTtcbiAgICAgICAgaWYgKHN0YXRlKSBwYXJhbXMuYXBwZW5kKCdzdGF0ZScsIHN0YXRlKTtcbiAgICAgICAgaWYgKGNpdHkpIHBhcmFtcy5hcHBlbmQoJ2NpdHknLCBjaXR5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAgIGNhc2UgJ2NvdW50cmllcyc6XG4gICAgICAgIGVuZHBvaW50ID0gJy92MS9wb2kvY291bnRyaWVzJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAgIGNhc2UgJ3N0YXRlcyc6XG4gICAgICAgIGVuZHBvaW50ID0gJy92MS9wb2kvc3RhdGVzJztcbiAgICAgICAgaWYgKGNvdW50cnkpIHBhcmFtcy5hcHBlbmQoJ2NvdW50cnknLCBjb3VudHJ5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAgIGNhc2UgJ2NpdGllcyc6XG4gICAgICAgIGVuZHBvaW50ID0gJy92MS9wb2kvY2l0aWVzJztcbiAgICAgICAgaWYgKGNvdW50cnkpIHBhcmFtcy5hcHBlbmQoJ2NvdW50cnknLCBjb3VudHJ5KTtcbiAgICAgICAgaWYgKHN0YXRlKSBwYXJhbXMuYXBwZW5kKCdzdGF0ZScsIHN0YXRlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAgIGNhc2UgJ3ppcGNvZGVzJzpcbiAgICAgICAgZW5kcG9pbnQgPSAnL3YxL3BvaS96aXBjb2Rlcyc7XG4gICAgICAgIGlmIChjb3VudHJ5KSBwYXJhbXMuYXBwZW5kKCdjb3VudHJ5JywgY291bnRyeSk7XG4gICAgICAgIGlmIChzdGF0ZSkgcGFyYW1zLmFwcGVuZCgnc3RhdGUnLCBzdGF0ZSk7XG4gICAgICAgIGlmIChjaXR5KSBwYXJhbXMuYXBwZW5kKCdjaXR5JywgY2l0eSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgdHlwZS4gVXNlOiBwb2lzLCB0b3AsIHN1YiwgYnJhbmRzLCBjb3VudHJpZXMsIHN0YXRlcywgY2l0aWVzLCB6aXBjb2RlcycgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cmwgPSBwYXJhbXMudG9TdHJpbmcoKSBcbiAgICAgID8gYCR7VkVSQVNFVF9CQVNFX1VSTH0ke2VuZHBvaW50fT8ke3BhcmFtc31gXG4gICAgICA6IGAke1ZFUkFTRVRfQkFTRV9VUkx9JHtlbmRwb2ludH1gO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtleSc6IGFwaUtleSxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsZXQgZXJyb3JEYXRhOiBhbnk7XG4gICAgICB0cnkge1xuICAgICAgICBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgZXJyb3JEYXRhID0geyBlcnJvcl9tZXNzYWdlOiBhd2FpdCByZXNwb25zZS50ZXh0KCkgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5lcnJvcignVmVyYXNldCBBUEkgZXJyb3I6JywgZXJyb3JEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gUHJvdmlkZSBtb3JlIGhlbHBmdWwgZXJyb3IgbWVzc2FnZXNcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBcbiAgICAgICAgICAgIGVycm9yOiAnVmVyYXNldCBBUEkgYXV0aGVudGljYXRpb24gZmFpbGVkJywgXG4gICAgICAgICAgICBkZXRhaWxzOiBlcnJvckRhdGEuZXJyb3JfbWVzc2FnZSB8fCAnSW52YWxpZCBBUEkga2V5LiBQbGVhc2UgY2hlY2sgeW91ciBWRVJBU0VUX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUuJyxcbiAgICAgICAgICAgIGhpbnQ6ICdNYWtlIHN1cmUgVkVSQVNFVF9BUElfS0VZIGlzIHNldCBpbiB5b3VyIC5lbnYgZmlsZSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdWZXJhc2V0IEFQSSBmYWlsZWQnLCBkZXRhaWxzOiBlcnJvckRhdGEuZXJyb3JfbWVzc2FnZSB8fCBKU09OLnN0cmluZ2lmeShlcnJvckRhdGEpIH0sXG4gICAgICAgIHsgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIC8vIElmIHR5cGUgaXMgJ3BvaXMnLCB0cmFuc2Zvcm0gdGhlIHJlc3BvbnNlIHRvIG1hdGNoIG91ciBQT0kgZm9ybWF0XG4gICAgaWYgKHR5cGUgPT09ICdwb2lzJykge1xuICAgICAgY29uc3QgcG9pcyA9IChkYXRhLnBvaXMgfHwgZGF0YS5kYXRhIHx8IFtdKS5tYXAoKHBvaTogYW55KSA9PiAoe1xuICAgICAgICBpZDogcG9pLnBvaV9pZCB8fCBwb2kuaWQsXG4gICAgICAgIHBsYWNlX2tleTogcG9pLnBsYWNlX2tleSB8fCBwb2kucGxhY2VLZXksIC8vIENyaXRpY2FsOiBwbGFjZV9rZXkgaXMgdXNlZCBmb3IgbW92ZW1lbnQgQVBJXG4gICAgICAgIG5hbWU6IHBvaS5uYW1lIHx8IHBvaS5wb2lfbmFtZSB8fCBwb2kuYnJhbmQgfHwgJ1VubmFtZWQgUE9JJyxcbiAgICAgICAgbGF0aXR1ZGU6IHBvaS5sYXRpdHVkZSB8fCBwb2kubGF0LFxuICAgICAgICBsb25naXR1ZGU6IHBvaS5sb25naXR1ZGUgfHwgcG9pLmxuZyB8fCBwb2kubG9uLFxuICAgICAgICBjYXRlZ29yeTogcG9pLmNhdGVnb3J5LFxuICAgICAgICBzdWJjYXRlZ29yeTogcG9pLnN1YmNhdGVnb3J5LFxuICAgICAgICBicmFuZDogcG9pLmJyYW5kLFxuICAgICAgICBhZGRyZXNzOiBwb2kuYWRkcmVzcyxcbiAgICAgICAgY2l0eTogcG9pLmNpdHksXG4gICAgICAgIHN0YXRlOiBwb2kuc3RhdGUsXG4gICAgICAgIHppcGNvZGU6IHBvaS56aXBjb2RlIHx8IHBvaS56aXAsXG4gICAgICAgIGNvdW50cnk6IHBvaS5jb3VudHJ5LFxuICAgICAgICByYXc6IHBvaSxcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgcG9pcyxcbiAgICAgICAgdG90YWw6IGRhdGEudG90YWwgfHwgcG9pcy5sZW5ndGgsXG4gICAgICAgIGhhc01vcmU6IGRhdGEuaGFzTW9yZSB8fCBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSk7XG5cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0dFVCAvYXBpL3BvaXMvaW1wb3J0L3ZlcmFzZXQgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggY2F0ZWdvcmllcycsIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJWRVJBU0VUX0JBU0VfVVJMIiwiZHluYW1pYyIsInJldmFsaWRhdGUiLCJQT1NUIiwicmVxdWVzdCIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJWRVJBU0VUX0FQSV9LRVkiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJib2R5IiwiYnJhbmQiLCJjYXRlZ29yeSIsInN1YmNhdGVnb3J5IiwiY291bnRyeSIsInN0YXRlIiwiY2l0eSIsInppcGNvZGUiLCJsaW1pdCIsIm9mZnNldCIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsIlN0cmluZyIsInF1ZXJ5UGFyYW1zIiwicXVlcnlTdHJpbmciLCJ0b1N0cmluZyIsInVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwib2siLCJlcnJvckRhdGEiLCJlcnJvcl9tZXNzYWdlIiwidGV4dCIsImNvbnNvbGUiLCJkZXRhaWxzIiwiaGludCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwicG9pcyIsIm1hcCIsInBvaSIsImlkIiwicG9pX2lkIiwicGxhY2Vfa2V5IiwicGxhY2VLZXkiLCJuYW1lIiwicG9pX25hbWUiLCJsYXRpdHVkZSIsImxhdCIsImxvbmdpdHVkZSIsImxuZyIsImxvbiIsImFkZHJlc3MiLCJ6aXAiLCJyYXciLCJ0b3RhbCIsImxlbmd0aCIsImhhc01vcmUiLCJtZXNzYWdlIiwiR0VUIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidHlwZSIsImdldCIsImVuZHBvaW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/pois/import/veraset/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute&page=%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpois%2Fimport%2Fveraset%2Froute.ts&appDir=%2FUsers%2Fjuliangarritz%2Fdev%2Fpy%2Fveraset%2Fveraset-api%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjuliangarritz%2Fdev%2Fpy%2Fveraset%2Fveraset-api&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();