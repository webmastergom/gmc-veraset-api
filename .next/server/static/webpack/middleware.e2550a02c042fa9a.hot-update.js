"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var _lib_security__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/security */ \"(middleware)/./lib/security.ts\");\n\n\n// Public API routes that don't require authentication\nconst PUBLIC_API_ROUTES = [\n    \"/api/auth/login\",\n    \"/api/auth/logout\",\n    \"/api/health\"\n];\n// External API routes that use API key authentication (not cookie auth)\n// These routes handle their own authentication via API keys\nconst EXTERNAL_API_ROUTES = [\n    \"/api/external\"\n];\n// Veraset API routes that should be protected but may be called externally\n// These should validate API keys or tokens separately\nconst VERASET_API_ROUTES = [\n    \"/api/veraset\"\n];\nfunction middleware(request) {\n    const authCookie = request.cookies.get(\"auth-token\");\n    const isLoginPage = request.nextUrl.pathname === \"/login\";\n    const pathname = request.nextUrl.pathname;\n    const isApiRoute = pathname.startsWith(\"/api/\");\n    // Handle CORS for API routes\n    if (isApiRoute) {\n        const origin = request.headers.get(\"origin\");\n        const corsHeaders = (0,_lib_security__WEBPACK_IMPORTED_MODULE_1__.getCorsHeaders)(origin);\n        // Handle preflight requests\n        if (request.method === \"OPTIONS\") {\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n                status: 204,\n                headers: corsHeaders\n            });\n        }\n        // Check if this is a public API route\n        const isPublicRoute = PUBLIC_API_ROUTES.some((route)=>pathname.startsWith(route));\n        // Check if this is an external API route (uses API key auth, not cookie auth)\n        const isExternalRoute = EXTERNAL_API_ROUTES.some((route)=>pathname.startsWith(route));\n        // Check if this is a Veraset API route (these may have their own auth)\n        const isVerasetRoute = pathname.startsWith(\"/api/veraset\");\n        // Apply rate limiting to all API routes\n        const clientId = (0,_lib_security__WEBPACK_IMPORTED_MODULE_1__.getClientIdentifier)(request);\n        // External routes get higher limits (they use API key auth)\n        const rateLimitMax = isPublicRoute ? 5 : isExternalRoute ? 100 : 20;\n        const rateLimit = (0,_lib_security__WEBPACK_IMPORTED_MODULE_1__.checkRateLimit)(`${clientId}:${pathname}`, rateLimitMax, 60000 // 1 minute window\n        );\n        if (!rateLimit.allowed) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Too many requests. Please try again later.\"\n            }, {\n                status: 429,\n                headers: {\n                    ...corsHeaders,\n                    \"Retry-After\": String(Math.ceil((rateLimit.resetAt - Date.now()) / 1000)),\n                    \"X-RateLimit-Limit\": String(rateLimitMax),\n                    \"X-RateLimit-Remaining\": \"0\",\n                    \"X-RateLimit-Reset\": String(Math.floor(rateLimit.resetAt / 1000))\n                }\n            });\n        }\n        // Protect non-public API routes (except External and Veraset routes which handle their own auth)\n        if (!isPublicRoute && !isVerasetRoute && !isExternalRoute) {\n            if (!authCookie || authCookie.value !== process.env.AUTH_SECRET) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Unauthorized\"\n                }, {\n                    status: 401,\n                    headers: corsHeaders\n                });\n            }\n        }\n        // Add rate limit headers to response\n        const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n        Object.entries(corsHeaders).forEach(([key, value])=>{\n            response.headers.set(key, value);\n        });\n        response.headers.set(\"X-RateLimit-Limit\", isPublicRoute ? \"5\" : \"20\");\n        response.headers.set(\"X-RateLimit-Remaining\", String(rateLimit.remaining));\n        response.headers.set(\"X-RateLimit-Reset\", String(Math.floor(rateLimit.resetAt / 1000)));\n        return response;\n    }\n    // Allow login page\n    if (isLoginPage) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    }\n    // Check authentication for all other routes (frontend pages)\n    if (!authCookie || authCookie.value !== process.env.AUTH_SECRET) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/login\", request.url));\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\nconst config = {\n    matcher: [\n        \"/((?!_next/static|_next/image|favicon.ico|logo|images|assets).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxDQUFDZ0MsR0FBRyxDQUFDLHFCQUFxQjVCLGdCQUFnQixNQUFNO1FBQ2hFc0IsU0FBUzFCLE9BQU8sQ0FBQ2dDLEdBQUcsQ0FBQyx5QkFBeUJqQixPQUFPSixVQUFVc0IsU0FBUztRQUN4RVAsU0FBUzFCLE9BQU8sQ0FBQ2dDLEdBQUcsQ0FBQyxxQkFBcUJqQixPQUFPQyxLQUFLSyxLQUFLLENBQUNWLFVBQVVPLE9BQU8sR0FBRztRQUVoRixPQUFPUTtJQUNUO0lBRUEsbUJBQW1CO0lBQ25CLElBQUloQyxhQUFhO1FBQ2YsT0FBT1oscURBQVlBLENBQUM2QyxJQUFJO0lBQzFCO0lBRUEsNkRBQTZEO0lBQzdELElBQUksQ0FBQ3BDLGNBQWNBLFdBQVcrQixLQUFLLEtBQUtDLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVyxFQUFFO1FBQy9ELE9BQU8zQyxxREFBWUEsQ0FBQ29ELFFBQVEsQ0FBQyxJQUFJQyxJQUFJLFVBQVU3QyxRQUFROEMsR0FBRztJQUM1RDtJQUVBLE9BQU90RCxxREFBWUEsQ0FBQzZDLElBQUk7QUFDMUI7QUFFTyxNQUFNVSxTQUFTO0lBQ3BCQyxTQUFTO1FBQUM7S0FBbUU7QUFDL0UsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9taWRkbGV3YXJlLnRzPzQyMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgdHlwZSB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBjaGVja1JhdGVMaW1pdCwgZ2V0Q2xpZW50SWRlbnRpZmllciwgZ2V0Q29yc0hlYWRlcnMgfSBmcm9tICcuL2xpYi9zZWN1cml0eSdcblxuLy8gUHVibGljIEFQSSByb3V0ZXMgdGhhdCBkb24ndCByZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG5jb25zdCBQVUJMSUNfQVBJX1JPVVRFUyA9IFtcbiAgJy9hcGkvYXV0aC9sb2dpbicsXG4gICcvYXBpL2F1dGgvbG9nb3V0JyxcbiAgJy9hcGkvaGVhbHRoJyxcbl1cblxuLy8gRXh0ZXJuYWwgQVBJIHJvdXRlcyB0aGF0IHVzZSBBUEkga2V5IGF1dGhlbnRpY2F0aW9uIChub3QgY29va2llIGF1dGgpXG4vLyBUaGVzZSByb3V0ZXMgaGFuZGxlIHRoZWlyIG93biBhdXRoZW50aWNhdGlvbiB2aWEgQVBJIGtleXNcbmNvbnN0IEVYVEVSTkFMX0FQSV9ST1VURVMgPSBbXG4gICcvYXBpL2V4dGVybmFsJyxcbl1cblxuLy8gVmVyYXNldCBBUEkgcm91dGVzIHRoYXQgc2hvdWxkIGJlIHByb3RlY3RlZCBidXQgbWF5IGJlIGNhbGxlZCBleHRlcm5hbGx5XG4vLyBUaGVzZSBzaG91bGQgdmFsaWRhdGUgQVBJIGtleXMgb3IgdG9rZW5zIHNlcGFyYXRlbHlcbmNvbnN0IFZFUkFTRVRfQVBJX1JPVVRFUyA9IFtcbiAgJy9hcGkvdmVyYXNldCcsXG5dXG5cbmV4cG9ydCBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IGF1dGhDb29raWUgPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdhdXRoLXRva2VuJylcbiAgY29uc3QgaXNMb2dpblBhZ2UgPSByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUgPT09ICcvbG9naW4nXG4gIGNvbnN0IHBhdGhuYW1lID0gcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lXG4gIGNvbnN0IGlzQXBpUm91dGUgPSBwYXRobmFtZS5zdGFydHNXaXRoKCcvYXBpLycpXG4gIFxuICAvLyBIYW5kbGUgQ09SUyBmb3IgQVBJIHJvdXRlc1xuICBpZiAoaXNBcGlSb3V0ZSkge1xuICAgIGNvbnN0IG9yaWdpbiA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ29yaWdpbicpXG4gICAgY29uc3QgY29yc0hlYWRlcnMgPSBnZXRDb3JzSGVhZGVycyhvcmlnaW4pXG4gICAgXG4gICAgLy8gSGFuZGxlIHByZWZsaWdodCByZXF1ZXN0c1xuICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XG4gICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShudWxsLCB7XG4gICAgICAgIHN0YXR1czogMjA0LFxuICAgICAgICBoZWFkZXJzOiBjb3JzSGVhZGVycyxcbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBwdWJsaWMgQVBJIHJvdXRlXG4gICAgY29uc3QgaXNQdWJsaWNSb3V0ZSA9IFBVQkxJQ19BUElfUk9VVEVTLnNvbWUocm91dGUgPT4gcGF0aG5hbWUuc3RhcnRzV2l0aChyb3V0ZSkpXG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhbiBleHRlcm5hbCBBUEkgcm91dGUgKHVzZXMgQVBJIGtleSBhdXRoLCBub3QgY29va2llIGF1dGgpXG4gICAgY29uc3QgaXNFeHRlcm5hbFJvdXRlID0gRVhURVJOQUxfQVBJX1JPVVRFUy5zb21lKHJvdXRlID0+IHBhdGhuYW1lLnN0YXJ0c1dpdGgocm91dGUpKVxuICAgIFxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBWZXJhc2V0IEFQSSByb3V0ZSAodGhlc2UgbWF5IGhhdmUgdGhlaXIgb3duIGF1dGgpXG4gICAgY29uc3QgaXNWZXJhc2V0Um91dGUgPSBwYXRobmFtZS5zdGFydHNXaXRoKCcvYXBpL3ZlcmFzZXQnKVxuICAgIFxuICAgIC8vIEFwcGx5IHJhdGUgbGltaXRpbmcgdG8gYWxsIEFQSSByb3V0ZXNcbiAgICBjb25zdCBjbGllbnRJZCA9IGdldENsaWVudElkZW50aWZpZXIocmVxdWVzdClcbiAgICAvLyBFeHRlcm5hbCByb3V0ZXMgZ2V0IGhpZ2hlciBsaW1pdHMgKHRoZXkgdXNlIEFQSSBrZXkgYXV0aClcbiAgICBjb25zdCByYXRlTGltaXRNYXggPSBpc1B1YmxpY1JvdXRlID8gNSA6IChpc0V4dGVybmFsUm91dGUgPyAxMDAgOiAyMClcbiAgICBjb25zdCByYXRlTGltaXQgPSBjaGVja1JhdGVMaW1pdChcbiAgICAgIGAke2NsaWVudElkfToke3BhdGhuYW1lfWAsXG4gICAgICByYXRlTGltaXRNYXgsXG4gICAgICA2MDAwMCAvLyAxIG1pbnV0ZSB3aW5kb3dcbiAgICApXG4gICAgXG4gICAgaWYgKCFyYXRlTGltaXQuYWxsb3dlZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVG9vIG1hbnkgcmVxdWVzdHMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyB9LFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdHVzOiA0MjksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgLi4uY29yc0hlYWRlcnMsXG4gICAgICAgICAgICAnUmV0cnktQWZ0ZXInOiBTdHJpbmcoTWF0aC5jZWlsKChyYXRlTGltaXQucmVzZXRBdCAtIERhdGUubm93KCkpIC8gMTAwMCkpLFxuICAgICAgICAgICAgJ1gtUmF0ZUxpbWl0LUxpbWl0JzogU3RyaW5nKHJhdGVMaW1pdE1heCksXG4gICAgICAgICAgICAnWC1SYXRlTGltaXQtUmVtYWluaW5nJzogJzAnLFxuICAgICAgICAgICAgJ1gtUmF0ZUxpbWl0LVJlc2V0JzogU3RyaW5nKE1hdGguZmxvb3IocmF0ZUxpbWl0LnJlc2V0QXQgLyAxMDAwKSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgICBcbiAgICAvLyBQcm90ZWN0IG5vbi1wdWJsaWMgQVBJIHJvdXRlcyAoZXhjZXB0IEV4dGVybmFsIGFuZCBWZXJhc2V0IHJvdXRlcyB3aGljaCBoYW5kbGUgdGhlaXIgb3duIGF1dGgpXG4gICAgaWYgKCFpc1B1YmxpY1JvdXRlICYmICFpc1ZlcmFzZXRSb3V0ZSAmJiAhaXNFeHRlcm5hbFJvdXRlKSB7XG4gICAgICBpZiAoIWF1dGhDb29raWUgfHwgYXV0aENvb2tpZS52YWx1ZSAhPT0gcHJvY2Vzcy5lbnYuQVVUSF9TRUNSRVQpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdHVzOiA0MDEsXG4gICAgICAgICAgICBoZWFkZXJzOiBjb3JzSGVhZGVycyxcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIHJhdGUgbGltaXQgaGVhZGVycyB0byByZXNwb25zZVxuICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoKVxuICAgIE9iamVjdC5lbnRyaWVzKGNvcnNIZWFkZXJzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KGtleSwgdmFsdWUpXG4gICAgfSlcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1SYXRlTGltaXQtTGltaXQnLCBpc1B1YmxpY1JvdXRlID8gJzUnIDogJzIwJylcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1SYXRlTGltaXQtUmVtYWluaW5nJywgU3RyaW5nKHJhdGVMaW1pdC5yZW1haW5pbmcpKVxuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdYLVJhdGVMaW1pdC1SZXNldCcsIFN0cmluZyhNYXRoLmZsb29yKHJhdGVMaW1pdC5yZXNldEF0IC8gMTAwMCkpKVxuICAgIFxuICAgIHJldHVybiByZXNwb25zZVxuICB9XG4gIFxuICAvLyBBbGxvdyBsb2dpbiBwYWdlXG4gIGlmIChpc0xvZ2luUGFnZSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpXG4gIH1cbiAgXG4gIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uIGZvciBhbGwgb3RoZXIgcm91dGVzIChmcm9udGVuZCBwYWdlcylcbiAgaWYgKCFhdXRoQ29va2llIHx8IGF1dGhDb29raWUudmFsdWUgIT09IHByb2Nlc3MuZW52LkFVVEhfU0VDUkVUKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKCcvbG9naW4nLCByZXF1ZXN0LnVybCkpXG4gIH1cbiAgXG4gIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpXG59XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIG1hdGNoZXI6IFsnLygoPyFfbmV4dC9zdGF0aWN8X25leHQvaW1hZ2V8ZmF2aWNvbi5pY298bG9nb3xpbWFnZXN8YXNzZXRzKS4qKSddXG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY2hlY2tSYXRlTGltaXQiLCJnZXRDbGllbnRJZGVudGlmaWVyIiwiZ2V0Q29yc0hlYWRlcnMiLCJQVUJMSUNfQVBJX1JPVVRFUyIsIkVYVEVSTkFMX0FQSV9ST1VURVMiLCJWRVJBU0VUX0FQSV9ST1VURVMiLCJtaWRkbGV3YXJlIiwicmVxdWVzdCIsImF1dGhDb29raWUiLCJjb29raWVzIiwiZ2V0IiwiaXNMb2dpblBhZ2UiLCJuZXh0VXJsIiwicGF0aG5hbWUiLCJpc0FwaVJvdXRlIiwic3RhcnRzV2l0aCIsIm9yaWdpbiIsImhlYWRlcnMiLCJjb3JzSGVhZGVycyIsIm1ldGhvZCIsInN0YXR1cyIsImlzUHVibGljUm91dGUiLCJzb21lIiwicm91dGUiLCJpc0V4dGVybmFsUm91dGUiLCJpc1ZlcmFzZXRSb3V0ZSIsImNsaWVudElkIiwicmF0ZUxpbWl0TWF4IiwicmF0ZUxpbWl0IiwiYWxsb3dlZCIsImpzb24iLCJlcnJvciIsIlN0cmluZyIsIk1hdGgiLCJjZWlsIiwicmVzZXRBdCIsIkRhdGUiLCJub3ciLCJmbG9vciIsInZhbHVlIiwicHJvY2VzcyIsImVudiIsIkFVVEhfU0VDUkVUIiwicmVzcG9uc2UiLCJuZXh0IiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJzZXQiLCJyZW1haW5pbmciLCJyZWRpcmVjdCIsIlVSTCIsInVybCIsImNvbmZpZyIsIm1hdGNoZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});